#!/bin/bash

echo "ğŸ” Running pre-commit checks..."

# ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
echo "ğŸ§ª Running tests..."
if ! xcodebuild -scheme HandEst -destination 'platform=iOS Simulator,name=iPhone 16' test -quiet; then
    echo "âŒ Tests failed! Please fix the failing tests before committing."
    exit 1
fi

# ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã™ã‚‹ã‹ç¢ºèªï¼ˆSwiftLintã¯project.ymlã§å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚ã€ã“ã“ã§ã¯çœç•¥ï¼‰
echo "ğŸ”¨ Building project..."
if ! xcodebuild -scheme HandEst -destination 'platform=iOS Simulator,name=iPhone 16' -configuration Debug build -quiet; then
    echo "âŒ Build failed! Please fix build errors before committing."
    exit 1
fi

echo "âœ… All pre-commit checks passed!"
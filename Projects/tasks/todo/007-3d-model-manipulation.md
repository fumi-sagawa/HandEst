# タスク名: 3Dモデルの回転・拡大縮小操作

## 概要
ポーズロック時に、ユーザーが1本指スワイプで3Dモデルを回転、2本指ピンチで拡大縮小できる機能を実装する。

## 背景・目的
- 様々な角度から手のポーズを観察可能に
- 細部の確認のための拡大機能
- 直感的なジェスチャー操作の実現

## 優先度
**High** - ポーズロック後の必須操作機能

## 前提条件
- #006（ポーズロック機能）が完了していること

## To-Be（完了条件）
- [ ] ジェスチャー認識の実装
- [ ] 1本指スワイプでのX/Y軸回転（1ピクセル = 0.5度）
- [ ] 2本指ピンチでの拡大縮小（0.5〜3.0倍）
- [ ] スムーズなアニメーション処理
- [ ] 回転の中心を手の重心に設定
- [ ] ジェスチャー状態の管理
- [ ] 操作フィードバックの実装
- [ ] ポーズロック中のみ操作可能に制限
- [ ] ジェスチャーテストの作成
- [ ] 実機での操作性確認
- [ ] テストが全て通る
- [ ] ドキュメント更新完了

## 実装方針
1. SwiftUIジェスチャーの実装
   - DragGestureで回転（横スワイプ→Y軸、縦スワイプ→X軸）
   - MagnificationGestureで拡大縮小
   - simultaneousGestureで複合操作を許可
   - ロック状態でのみジェスチャーを有効化
2. 3D変換の計算
   - 回転行列の適用（Euler角）
   - スケール変換（uniform scale）
   - 手の重心計算（21関節の平均位置）
   - 変換の合成順序（スケール→回転→位置）
3. 状態管理
   - RenderingFeatureに変換状態を追加
     - rotationX, rotationY: Float
     - scale: Float（デフォルト1.0）
   - ジェスチャー中の一時状態管理
   - リセット機能（ダブルタップで初期状態に）
4. UX向上
   - 慣性なしの即座な反応
   - 適切な感度設定（調整可能に）
   - 回転制限なし（360度自由回転）

## 関連情報
- 前提タスク: #006（ポーズロック機能）
- 機能要件仕様書: 4.4 3Dモデル操作
- SwiftUI Gesture公式ドキュメント

## 作業ログ
### YYYY-MM-DD HH:MM
- 作業内容の記録
- 発生した問題と解決方法
- 次回の作業予定